(this.webpackJsonplevi=this.webpackJsonplevi||[]).push([[0],{376:function(e,t,n){},378:function(e,t,n){"use strict";n.r(t);var c,r,a=n(0),i=n(138),s=n.n(i),l=n(14),o=n(6),u=n(7),j=n.n(u),b=n(11),d=n(2),m=(n(377),n(53)),h=n(52),p=n(71),g=n(35),O=n.n(g),x="https://home-bayes.glitch.me/api/dw",f=99,v=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(x,"/chars")).catch((function(e){e.response?(console.log("Request made and server responded"),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?(console.log("The request was made but no response was received"),console.log(e.request)):(console.log("Something happened in setting up the request that triggered an Error"),console.log("Error",e.message))}));case 2:return t=e.sent,console.log(t.data),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("userId: ",f),e.next=3,O.a.post("".concat(x,"/chars/").concat(t.name),{id:f,charInfo:[t]},{headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(x,"/groups/").concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=n(72),k=n(73),S=k.a.div(c||(c=Object(w.a)(["\n  cursor: pointer;\n  padding: 0.3rem;\n  margin-right: 0.1rem;\n  border: 1px solid gray;\n  border-radius: 5px;\n  width: 1.25rem;\n  height: 1.25rem;\n  text-align: center;\n  text-justify: center;\n  justify-content: center;\n  align-content: center;\n  background-color: ",";\n\n  :hover {\n    border-bottom: 1px solid black;\n    border-right: 1px solid black;\n  }\n"])),(function(e){return e.toggle?"rgb(220, 230, 220)":"rgb(230, 220, 220)"})),C=(Object(k.a)(S)(r||(r=Object(w.a)(["\n  width: auto;\n"]))),n(22)),V=n.n(C),L=n(1),E=function(e){return e?e<4?"-3":e<6?"-2":e<9?"-1":e<13?"0":e<16?"+1":e<18?"+2":"+3":""},R=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(!1),s=Object(d.a)(i,2);s[0],s[1];e.oneLine&&console.log(e);var l=function(){document.getElementById("group-list-item-container-".concat(e.labelValue))&&(c?document.getElementById("group-list-item-container-".concat(e.labelValue)).style={width:"46%",maxHeight:"3rem"}:document.getElementById("group-list-item-container-".concat(e.labelValue)).stylestyle={width:"100%",maxHeight:"auto"}),e.oneLine||r(!c)},o=null;o="Custom"===e.source?null:("Core"===e.source&&(o="https://www.dungeonworldsrd.com/"),e.playbooks&&e.playbooks[0]?o+="classes/".concat(e.playbooks[0],"/#").concat(String(e.labelValue).replaceAll(" ","_")):"Weapon"===e.type?o+="Equipment/#Weapon_List":o+="Equipment/#".concat(String(e.type).replaceAll(" ","_")),o),Object(a.useEffect)((function(){}),[]);var u=function(){return"abilities"===e.groupName?Object(L.jsx)("div",{}):Object(L.jsx)("div",{children:e.editMode?Object(L.jsx)(S,{toggle:e.hasItem,onClick:function(t){return e.handleUpdateGroupList({group:e.groupName,newValue:e.labelValue})},children:Object(L.jsx)("span",{role:"image",children:e.hasItem?"\u2714\ufe0f":"\u274c"})}):Object(L.jsx)("div",{})})},j=function(){return e.oneLine?Object(L.jsx)("div",{className:"clickable",onClick:l,style:{alignContent:"flex-end",justifyContent:"flex-end",fontSize:"0.8rem",color:"rgb(10, 10, 10)",padding:"0 0.2rem"},children:e.subtitle&&Object(L.jsx)(V.a,{children:String(e.subtitle)})}):Object(L.jsxs)("div",{className:"clickable",onClick:l,style:{display:"flex",fontSize:"0.8rem",color:"rgb(10, 10, 10)",padding:"0 0.2rem"},children:[Object(L.jsxs)("div",{style:{display:"flex",flexGrow:1},children:[e.playbooks[0]&&Object(L.jsx)("div",{style:{marginRight:"0.2rem"},children:Object(L.jsx)(V.a,{children:String(e.playbooks)})}),e.subtitle&&Object(L.jsx)("div",{style:{marginRight:"0.2rem"},children:Object(L.jsx)(V.a,{children:String(e.subtitle)})}),e.tags[0]&&Object(L.jsx)("div",{style:{marginRight:"0.2rem"},children:Object(L.jsx)(V.a,{children:String("*"+e.tags+"*")})})]}),Object(L.jsxs)("div",{style:{display:"flex",alignContent:"flex-end",justifyContent:"flex-end"},children:[e.weight&&Object(L.jsx)(V.a,{children:String(e.weight+"\ud83c\udf92, ")}),e.price&&Object(L.jsx)(V.a,{children:String(e.price+"\ud83d\udcb0")})]})]})},b=function(){return e.score?Object(L.jsxs)("div",{style:{display:"flex",cursor:"pointer",fontSize:"0.9rem",color:"rgb(10, 10, 10)",margin:"0 0.2rem"},children:[Object(L.jsx)("div",{style:{margin:"0 0.2rem"},children:Object(L.jsx)("b",{children:e.score})}),Object(L.jsx)("div",{style:{width:"2rem"},children:E(e.score)&&"(".concat(E(e.score),")")})]}):""};return Object(L.jsxs)("div",{className:c?"selected":"unselected",children:[Object(L.jsxs)("div",{style:{display:"flex"},children:[Object(L.jsx)(u,{}),Object(L.jsxs)("div",{className:"group-item-labelValue clickable",onClick:l,children:[Object(L.jsx)("div",{style:{display:"flex"},children:Object(L.jsx)("div",{children:Object(L.jsx)("b",{children:e.labelValue})})}),Object(L.jsx)(j,{})]}),Object(L.jsx)(b,{onClick:l,style:{}}),e.rollWith&&Object(L.jsx)(S,{onClick:function(){return alert("Dice rolling not yet available.")},children:"\ud83c\udfb2"}),c&&o&&"abilities"!==e.groupName&&Object(L.jsx)(S,{toggle:!0,children:Object(L.jsx)("a",{href:o,rel:"noopener noreferrer",target:"_blank",style:{textDecoration:"none"},children:Object(L.jsx)("span",{role:"image",children:"\ud83d\udd17"})})})]}),c&&e.description&&Object(L.jsx)("div",{className:"clickable",onClick:l,style:{marginLeft:"0.1rem",fontSize:"0.9rem"},children:Object(L.jsx)(V.a,{children:String(e.description)})})]})},A=function(e,t){var n=[];return e.map((function(e){return t.map((function(t){t.name===e&&(n=[].concat(Object(o.a)(n),[t]))}))})),n},U=function(e){var t=Object(a.useState)(!0),n=Object(d.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),s=Object(d.a)(i,2),l=s[0],u=s[1],m=Object(a.useState)(e.char[e.groupName]),g=Object(d.a)(m,2),O=g[0],x=g[1],f=Object(a.useState)(null),v=Object(d.a)(f,2),w=v[0],k=v[1],C=Object(a.useState)(null),V=Object(d.a)(C,2),E=V[0],U=V[1],M=Object(a.useState)(!1),D=Object(d.a)(M,2),I=D[0],B=D[1],q=Object(a.useState)(!1),_=Object(d.a)(q,2),W=_[0],z=(_[1],function(e){B(!I)}),X=function(e,t){var n=l;"ADD"!==t||l.includes(e)||(n=[].concat(Object(o.a)(n),[e])),"REMOVE"===t&&l.includes(e)&&(n=n.filter((function(t){return t!==e}))),u(n)},G=function(e){var t;t=O.includes(e.newValue)?O.filter((function(t){return t!==e.newValue})):[].concat(Object(o.a)(O),[e.newValue]),x(t)};return Object(a.useEffect)((function(){c&&!w&&function(){var t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e.groupName);case 2:n=t.sent,k(n.data),r(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()();c||function(){switch(e.groupName){case"gear":var t=10+function(e,t,n){var c;return e.map((function(e){e.name===t&&(c=e[n])})),c}(e.char.abilities,"Strength","score"),n=A(O,w).map((function(e){return e.weight||0})).reduce((function(e,t){return e+t}),0);U("".concat(n,"/").concat(t,"\ud83c\udf92")),n>t&&X("OVER_MAX","ADD");break;case"spells":var c=1+e.char.level,r=A(O,w).map((function(e){return e.level||0})).reduce((function(e,t){return e+t}),0);U("".concat(r,"/").concat(c,"\u2728")),X("OVER_MAX",r>c?"ADD":"REMOVE");break;case"moves":U(A(O,w).length)}}()}),[I,e.char.level,c,O,l]),Object(L.jsxs)("div",{style:{},children:[Object(L.jsxs)("div",{style:{display:"flex",marginRight:"0.2rem"},children:[Object(L.jsx)("div",{className:"group-item-label",style:{textAlign:"center"},children:Object(L.jsx)("b",{style:{borderBottom:"1px solid gray",padding:"0 2rem"},children:String(e.groupName).toUpperCase()})}),Object(L.jsx)("div",{style:{padding:"0.4rem 0.2rem",color:"".concat(l.includes("OVER_MAX")?"red":"black")},children:E&&E}),Object(L.jsx)(S,{toggle:!I,onClick:function(){return z()},children:Object(L.jsx)("span",{role:"image",children:I?"\u274c":"\u2699\ufe0f"})}),I&&Object(L.jsx)(S,{toggle:0===l.length,onClick:function(t){return function(){if(l[0])x(e.char[e.groupName]);else{var t=Object(p.a)(Object(p.a)({},e.char),{},Object(h.a)({},e.groupName,O));e.setChar(t),y(t),z()}}()},children:Object(L.jsx)("span",{role:"image",children:l[0]?"\u26d4":"\ud83d\udcbe"})})]}),!c&&Object(L.jsx)("div",{className:"fwmp",children:!W&&Object.values(w).map((function(t){return(O.includes(t.name)||I||"abilities"===e.groupName)&&Object(L.jsx)("div",{id:"group-list-item-container-".concat(t.name),className:"group-list-item-container",children:Object(L.jsx)(R,{groupName:e.groupName,labelValue:t.name,subtitle:t.level||"",level:t.level,price:t.price,description:t.description,source:t.source||"",webURL:t.webURL||"",playbooks:t.playbooks||"",rollWith:t.rollWith||"",editMode:I,handleUpdateGroupList:G,hasItem:O.includes(t.name),type:t.type||"",tags:t.tags||"",weight:t.weight||"",score:t.score||""})},"group-list-item-container-".concat(t.name))}))}),Object(L.jsx)("br",{})]})},M=function(e,t,n){var c;return e.map((function(e){e.name===t&&(c=e[n])})),c},D=function(e){var t,n=Object(a.useState)("compact"),c=Object(d.a)(n,2),r=c[0],i=(c[1],e.char);return Object(L.jsxs)("div",{className:"App",children:[Object(L.jsxs)("div",{className:r,children:[Object(L.jsx)(m.c,{initialValues:i,onSubmit:function(){},children:function(){return Object(L.jsx)(m.b,{children:Object(L.jsx)("div",{className:"single-item-container",children:Object(L.jsx)(m.a,{label:"Name",name:"name",field:"name",subtitle:"Name",oneLine:!0,labelValue:i.name,component:R})})})}}),Object(L.jsx)("div",{className:"single-item-container",children:Object(L.jsx)(R,{field:"name",subtitle:"Name",labelValue:i.name,oneLine:!0})}),Object(L.jsx)("div",{className:"single-item-container",children:Object(L.jsx)(R,{field:"race",subtitle:"Race",labelValue:i.race,oneLine:!0})}),Object(L.jsx)("div",{className:"single-item-container",children:Object(L.jsx)(R,{field:"playbook",subtitle:"Playbook",labelValue:i.playbook,source:"".concat(i.playbook),webURL:i.webURL,oneLine:!0})}),Object(L.jsx)("div",{className:"single-item-container",children:Object(L.jsx)(R,{field:"alignment",subtitle:"Alignment",labelValue:i.alignment.name,oneLine:!0})}),Object(L.jsx)("div",{className:"single-item-container",children:Object(L.jsx)(R,{field:"level",subtitle:"Level",labelValue:i.level,oneLine:!0})}),Object(L.jsx)("div",{className:"single-item-container",children:Object(L.jsx)(R,{field:"xp",subtitle:"XP",labelValue:"".concat(i.xp," / ").concat((t=i.level+1,7*t+t)),oneLine:!0})}),Object(L.jsx)("div",{className:"single-item-container",children:Object(L.jsx)(R,{field:"hp",subtitle:"HP",labelValue:i.basehp+M(e.char.abilities,"Constitution","score"),oneLine:!0})})]}),Object(L.jsx)("br",{}),Object(L.jsx)(U,{groupName:"abilities",char:e.char,setChar:e.setChar}),Object(L.jsxs)("div",{style:{padding:0,margin:0},children:[Object(L.jsx)("div",{className:"group-item-labelValue",style:{textAlign:"center"},children:Object(L.jsx)("b",{style:{borderBottom:"1px solid gray",padding:"0 2rem"},children:"BONDS"})}),Object(L.jsx)("div",{className:"fwmp",children:i.bonds.map((function(e){return Object(L.jsx)("div",{className:"single-item-container",children:Object(L.jsx)(R,{subtitle:e.description,field:"bonds",oneLine:!0})},e.description)}))})]}),Object(L.jsx)("br",{}),Object(L.jsx)(U,{groupName:"moves",char:e.char,setChar:e.setChar}),Object(L.jsx)(U,{groupName:"spells",char:e.char,setChar:e.setChar}),Object(L.jsx)(U,{groupName:"gear",char:e.char,setChar:e.setChar})]})},I=function(e){return Object(L.jsxs)("div",{children:[Object(L.jsx)("h3",{style:{padding:"1rem",borderBottom:"1px solid gray"},children:"Accounts"}),Object(L.jsxs)("div",{className:"fwmp",children:[e.allUsers.map((function(t){return Object(L.jsxs)("div",{onClick:function(n){return e.handleUserChange(t.userName)},className:"single-item-container",children:[Object(L.jsx)("b",{children:t.userName}),Object(L.jsx)("div",{children:t.characters.map((function(e,t){return Object(L.jsx)("div",{className:"indented",children:e.name},Math.random())}))})]},Math.random())})),Object(L.jsx)("div",{className:"single-item-container",children:"New User"})]})]})};n(376);function B(){var e=Object(a.useState)(!0),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),i=Object(d.a)(r,2),s=i[0],u=i[1],m=Object(a.useState)("Levi"),h=Object(d.a)(m,2),p=h[0],g=(h[1],Object(a.useState)(null)),O=Object(d.a)(g,2),x=O[0],y=O[1],N=Object(a.useState)(null),w=Object(d.a)(N,2),k=(w[0],w[1]);Object(a.useEffect)((function(){n&&!s&&function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,u(t),c(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();if(p&&s)for(var e=0,t=Object.entries.apply(Object,Object(o.a)(s));e<t.length;e++){var r=Object(d.a)(t[e],2),a=r[0],i=r[1];i.name===p&&(k(a),y(i))}}),[p,s]);return Object(L.jsxs)("div",{children:[!1,s&&!x&&Object(L.jsx)(I,{allUsers:s,handleUserChange:function(e){console.log("Searching for user: ",e);var t,n,c=Object(l.a)(s);try{for(c.s();!(t=c.n()).done;){var r=t.value;console.log(r),r.userName===e&&(console.log("matched! userName = ",r.userName),y(r.characters[0]),n=r.id,f=n)}}catch(a){c.e(a)}finally{c.f()}}}),x&&Object(L.jsx)(D,{char:x,setChar:y}),n&&Object(L.jsx)("div",{children:"loading..."})]})}var q=document.getElementById("root");s.a.render(Object(L.jsx)(a.StrictMode,{children:Object(L.jsx)(B,{})}),q)}},[[378,1,2]]]);
//# sourceMappingURL=main.bc54d91d.chunk.js.map