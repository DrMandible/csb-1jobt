(this.webpackJsonplevi=this.webpackJsonplevi||[]).push([[0],{220:function(e,t,n){},221:function(e,t,n){"use strict";n.r(t);var c,r,a=n(1),i=n(85),s=n.n(i),l=n(39),o=n(5),u=n.n(o),b=n(10),j=n(3),d=n(27),p=n(40),h=n(30),m=n(29),g=n.n(m),O="https://home-bayes.glitch.me/api/dw",x=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(O,"/chars")).catch((function(e){e.response?(console.log("Request made and server responded"),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?(console.log("The request was made but no response was received"),console.log(e.request)):(console.log("Something happened in setting up the request that triggered an Error"),console.log("Error",e.message))}));case 2:return t=e.sent,console.log(t),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat(O,"/chars/").concat(t.name),{id:0,charInfo:[t]},{headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(O,"/groups/").concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=n(41),w=n(42),N=w.a.div(c||(c=Object(y.a)(["\n  cursor: pointer;\n  padding: 0.3rem;\n  margin-right: 0.1rem;\n  border: 1px solid gray;\n  border-radius: 5px;\n  width: 1.25rem;\n  height: 1.25rem;\n  text-align: center;\n  text-justify: center;\n  justify-content: center;\n  align-content: center;\n  background-color: ",";\n\n  :hover {\n    border-bottom: 1px solid black;\n    border-right: 1px solid black;\n  }\n"])),(function(e){return e.toggle?"rgb(220, 230, 220)":"rgb(230, 220, 220)"})),k=(Object(w.a)(N)(r||(r=Object(y.a)(["\n  width: auto;\n"]))),n(14)),S=n.n(k),C=n(0),L=function(e){return e?e<4?"-3":e<6?"-2":e<9?"-1":e<13?"0":e<16?"+1":e<18?"+2":"+3":""},E=function(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),c=n[0],r=n[1];console.log(e);var i=function(){if(e.oneLine)return Object(C.jsx)("div",{});document.getElementById("group-list-item-container-".concat(e.label))&&(c?document.getElementById("group-list-item-container-".concat(e.label)).style={width:"46%",maxHeight:"3rem"}:document.getElementById("group-list-item-container-".concat(e.label)).stylestyle={width:"100%",maxHeight:"auto"}),e.oneLine||r(!c)},s=null;s="Custom"===e.source?null:("Core"===e.source&&(s="https://www.dungeonworldsrd.com/"),e.playbooks&&e.playbooks[0]?s+="classes/".concat(e.playbooks[0],"/#").concat(String(e.label).replaceAll(" ","_")):"Weapon"===e.type?s+="Equipment/#Weapon_List":s+="Equipment/#".concat(String(e.type).replaceAll(" ","_")),s),Object(a.useEffect)((function(){}),[]);var l=function(){return"abilities"===e.groupName?Object(C.jsx)("div",{}):Object(C.jsx)("div",{children:e.editMode?Object(C.jsx)(N,{toggle:e.hasItem,onClick:function(t){return e.handleUpdateGroupList({group:e.groupName,newValue:e.label})},children:Object(C.jsx)("span",{role:"image",children:e.hasItem?"\u2714\ufe0f":"\u274c"})}):Object(C.jsx)("div",{})})},o=function(){return e.oneLine?Object(C.jsx)("div",{className:"clickable",onClick:i,style:{alignContent:"flex-end",justifyContent:"flex-end",fontSize:"0.8rem",color:"rgb(10, 10, 10)",padding:"0 0.2rem"},children:e.subtitle&&Object(C.jsx)(S.a,{children:String(e.subtitle)})}):Object(C.jsxs)("div",{className:"clickable",onClick:i,style:{display:"flex",fontSize:"0.8rem",color:"rgb(10, 10, 10)",padding:"0 0.2rem"},children:[Object(C.jsxs)("div",{style:{display:"flex",flexGrow:1},children:[e.playbooks[0]&&Object(C.jsx)("div",{style:{marginRight:"0.2rem"},children:Object(C.jsx)(S.a,{children:String(e.playbooks)})}),e.subtitle&&Object(C.jsx)("div",{style:{marginRight:"0.2rem"},children:Object(C.jsx)(S.a,{children:String(e.subtitle)})}),e.tags[0]&&Object(C.jsx)("div",{style:{marginRight:"0.2rem"},children:Object(C.jsx)(S.a,{children:String("*"+e.tags+"*")})})]}),Object(C.jsxs)("div",{style:{display:"flex",alignContent:"flex-end",justifyContent:"flex-end"},children:[e.weight&&Object(C.jsx)(S.a,{children:String(e.weight+"\ud83c\udf92, ")}),e.price&&Object(C.jsx)(S.a,{children:String(e.price+"\ud83d\udcb0")})]})]})},u=function(){return e.score?Object(C.jsxs)("div",{style:{display:"flex",cursor:"pointer",fontSize:"0.9rem",color:"rgb(10, 10, 10)",margin:"0 0.2rem"},children:[Object(C.jsx)("div",{style:{margin:"0 0.2rem"},children:Object(C.jsx)("b",{children:e.score})}),Object(C.jsx)("div",{style:{width:"2rem"},children:L(e.score)&&"(".concat(L(e.score),")")})]}):""};return Object(C.jsxs)("div",{className:c?"selected":"unselected",children:[Object(C.jsxs)("div",{style:{display:"flex"},children:[Object(C.jsx)(l,{}),Object(C.jsxs)("div",{className:"group-item-label clickable",onClick:i,children:[Object(C.jsx)("div",{style:{display:"flex"},children:Object(C.jsx)("div",{children:Object(C.jsx)("b",{children:e.label})})}),Object(C.jsx)(o,{})]}),Object(C.jsx)(u,{onClick:i,style:{}}),e.rollWith&&Object(C.jsx)(N,{onClick:function(){return alert("Dice rolling not yet available.")},children:"\ud83c\udfb2"}),c&&s&&"abilities"!==e.groupName&&Object(C.jsx)(N,{toggle:!0,children:Object(C.jsx)("a",{href:s,rel:"noopener noreferrer",target:"_blank",style:{textDecoration:"none"},children:Object(C.jsx)("span",{role:"image",children:"\ud83d\udd17"})})})]}),c&&e.description&&Object(C.jsx)("div",{className:"clickable",onClick:i,style:{marginLeft:"0.1rem",fontSize:"0.9rem"},children:Object(C.jsx)(S.a,{children:String(e.description)})})]})},R=function(e,t){var n=[];return e.map((function(e){return t.map((function(t){t.name===e&&(n=[].concat(Object(h.a)(n),[t]))}))})),n},A=function(e){var t=Object(a.useState)(!0),n=Object(j.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),s=Object(j.a)(i,2),l=s[0],o=s[1],m=Object(a.useState)(e.char[e.groupName]),g=Object(j.a)(m,2),O=g[0],x=g[1],y=Object(a.useState)(null),w=Object(j.a)(y,2),k=w[0],S=w[1],L=Object(a.useState)(null),A=Object(j.a)(L,2),D=A[0],V=A[1],I=Object(a.useState)(!1),M=Object(j.a)(I,2),q=M[0],B=M[1],U=Object(a.useState)(!1),_=Object(j.a)(U,2),W=_[0],z=(_[1],function(e){B(!q)}),X=function(e,t){var n=l;"ADD"!==t||l.includes(e)||(n=[].concat(Object(h.a)(n),[e])),"REMOVE"===t&&l.includes(e)&&(n=n.filter((function(t){return t!==e}))),o(n)},G=function(e){var t;t=O.includes(e.newValue)?O.filter((function(t){return t!==e.newValue})):[].concat(Object(h.a)(O),[e.newValue]),x(t)};return Object(a.useEffect)((function(){c&&!k&&function(){var t=Object(b.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e.groupName);case 2:n=t.sent,S(n.data),r(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()();c||function(){switch(e.groupName){case"gear":var t=10+function(e,t,n){var c;return e.map((function(e){e.name===t&&(c=e[n])})),c}(e.char.abilities,"Strength","score"),n=R(O,k).map((function(e){return e.weight||0})).reduce((function(e,t){return e+t}),0);V("".concat(n,"/").concat(t,"\ud83c\udf92")),n>t&&X("OVER_MAX","ADD");break;case"spells":var c=1+e.char.level,r=R(O,k).map((function(e){return e.level||0})).reduce((function(e,t){return e+t}),0);V("".concat(r,"/").concat(c,"\u2728")),X("OVER_MAX",r>c?"ADD":"REMOVE");break;case"moves":V(R(O,k).length)}}()}),[q,e.char.level,c,O,l]),Object(C.jsxs)("div",{style:{},children:[Object(C.jsxs)("div",{style:{display:"flex",marginRight:"0.2rem"},children:[Object(C.jsx)("div",{className:"group-item-label",style:{textAlign:"center"},children:Object(C.jsx)("b",{style:{borderBottom:"1px solid gray",padding:"0 2rem"},children:String(e.groupName).toUpperCase()})}),Object(C.jsx)("div",{style:{padding:"0.4rem 0.2rem",color:"".concat(l.includes("OVER_MAX")?"red":"black")},children:D&&D}),Object(C.jsx)(N,{toggle:!q,onClick:function(){return z()},children:Object(C.jsx)("span",{role:"image",children:q?"\u274c":"\u2699\ufe0f"})}),q&&Object(C.jsx)(N,{toggle:0===l.length,onClick:function(t){return function(){if(l[0])x(e.char[e.groupName]);else{var t=Object(p.a)(Object(p.a)({},e.char),{},Object(d.a)({},e.groupName,O));e.setChar(t),f(t),z()}}()},children:Object(C.jsx)("span",{role:"image",children:l[0]?"\u26d4":"\ud83d\udcbe"})})]}),!c&&Object(C.jsx)("div",{className:"fwmp",children:!W&&Object.values(k).map((function(t){return(O.includes(t.name)||q||"abilities"===e.groupName)&&Object(C.jsx)("div",{id:"group-list-item-container-".concat(t.name),className:"group-list-item-container",children:Object(C.jsx)(E,{groupName:e.groupName,label:t.name,subtitle:t.level||"",level:t.level,price:t.price,description:t.description,source:t.source||"",webURL:t.webURL||"",playbooks:t.playbooks||"",rollWith:t.rollWith||"",editMode:q,handleUpdateGroupList:G,hasItem:O.includes(t.name),type:t.type||"",tags:t.tags||"",weight:t.weight||"",score:t.score||""})},"group-list-item-container-".concat(t.name))}))}),Object(C.jsx)("br",{})]})},D=function(e,t,n){var c;return e.map((function(e){e.name===t&&(c=e[n])})),c},V=function(e){var t,n=Object(a.useState)("compact"),c=Object(j.a)(n,2),r=c[0],i=(c[1],e.char);return console.log(i),Object(C.jsxs)("div",{className:"App",children:[Object(C.jsxs)("div",{className:r,children:[Object(C.jsx)("div",{className:"single-item-container",children:Object(C.jsx)(E,{subtitle:"Name",label:i.name,oneLine:!0})}),Object(C.jsx)("div",{className:"single-item-container",children:Object(C.jsx)(E,{subtitle:"Race",label:i.race,oneLine:!0})}),Object(C.jsx)("div",{className:"single-item-container",children:Object(C.jsx)(E,{subtitle:"Playbook",label:i.playbook,source:"".concat(i.playbook),webURL:i.webURL,oneLine:!0})}),Object(C.jsx)("div",{className:"single-item-container",children:Object(C.jsx)(E,{subtitle:"Alignment",label:i.alignment.name,oneLine:!0})}),Object(C.jsx)("div",{className:"single-item-container",children:Object(C.jsx)(E,{subtitle:"Level",label:i.level,oneLine:!0})}),Object(C.jsx)("div",{className:"single-item-container",children:Object(C.jsx)(E,{subtitle:"XP",label:"".concat(i.xp," / ").concat((t=i.level+1,7*t+t)),oneLine:!0})}),Object(C.jsx)("div",{className:"single-item-container",children:Object(C.jsx)(E,{subtitle:"HP",label:i.basehp+D(e.char.abilities,"Constitution","score"),oneLine:!0})})]}),Object(C.jsx)("br",{}),Object(C.jsx)(A,{groupName:"abilities",char:e.char,setChar:e.setChar}),Object(C.jsxs)("div",{style:{padding:0,margin:0},children:[Object(C.jsx)("div",{className:"group-item-label",style:{textAlign:"center"},children:Object(C.jsx)("b",{style:{borderBottom:"1px solid gray",padding:"0 2rem"},children:"BONDS"})}),Object(C.jsx)("div",{className:"fwmp",children:i.bonds.map((function(e){return Object(C.jsx)("div",{className:"single-item-container",children:Object(C.jsx)(E,{subtitle:e.description,label:"",oneLine:!0})},e.description)}))})]}),Object(C.jsx)("br",{}),Object(C.jsx)(A,{groupName:"moves",char:e.char,setChar:e.setChar}),Object(C.jsx)(A,{groupName:"spells",char:e.char,setChar:e.setChar}),Object(C.jsx)(A,{groupName:"gear",char:e.char,setChar:e.setChar})]})};n(220);function I(){var e=Object(a.useState)(!0),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),i=Object(j.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)("Levi"),p=Object(j.a)(d,2),h=p[0],m=(p[1],Object(a.useState)(null)),g=Object(j.a)(m,2),O=g[0],f=g[1],v=Object(a.useState)(null),y=Object(j.a)(v,2),w=y[0],N=y[1];return Object(a.useEffect)((function(){n&&!s&&function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,o(t),c(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();if(h&&s){var e,t=Object(l.a)(s);try{for(t.s();!(e=t.n()).done;){var r,a=e.value,i=JSON.parse(a.characters),j=Object(l.a)(i);try{for(j.s();!(r=j.n()).done;){var d=r.value;console.log(d),d.name===h&&(f(d),console.log(a.id),N(a.id))}}catch(p){j.e(p)}finally{j.f()}}}catch(p){t.e(p)}finally{t.f()}}}),[h,s]),Object(C.jsxs)("div",{children:[!1,w&&w,O&&!n?Object(C.jsx)(V,{char:O,setChar:f}):Object(C.jsx)("div",{children:"loading..."})]})}var M=document.getElementById("root");s.a.render(Object(C.jsx)(a.StrictMode,{children:Object(C.jsx)(I,{})}),M)}},[[221,1,2]]]);
//# sourceMappingURL=main.574b5be7.chunk.js.map